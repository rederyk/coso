{
  "namespace": "audio",
  "description": "Riproduzione file audio e controllo volume",
  "functions": {
    "play_file": {
      "signature": "audio.play_file(filename: string) -> boolean",
      "description": "Riproduce file audio (supporta WAV, MP3)",
      "parameters": {
        "filename": {
          "type": "string",
          "description": "Path file audio (es. 'sounds/beep.wav', 'music.mp3')",
          "required": true
        }
      },
      "returns": "boolean - true se riproduzione avviata con successo",
      "examples": [
        {
          "code": "audio.play_file('notification.wav')",
          "description": "Riproduce suono di notifica"
        },
        {
          "code": "audio.play_file('sounds/alarm.mp3')",
          "description": "Riproduce allarme da sottocartella"
        }
      ]
    },
    "stop": {
      "signature": "audio.stop()",
      "description": "Ferma riproduzione audio corrente",
      "parameters": {},
      "returns": "void",
      "examples": [
        {
          "code": "audio.play_file('music.mp3')\n-- Aspetta 5 secondi\naudio.stop()",
          "description": "Riproduce e poi ferma musica"
        }
      ]
    },
    "set_volume": {
      "signature": "audio.set_volume(level: number)",
      "description": "Imposta volume di riproduzione (0-100)",
      "parameters": {
        "level": {
          "type": "number",
          "description": "Livello volume: 0 = muto, 100 = massimo",
          "required": true,
          "range": "0-100"
        }
      },
      "returns": "void",
      "examples": [
        {
          "code": "audio.set_volume(50)\naudio.play_file('song.mp3')",
          "description": "Imposta volume a 50% e riproduce"
        },
        {
          "code": "audio.set_volume(0)",
          "description": "Mute audio"
        }
      ]
    },
    "get_volume": {
      "signature": "audio.get_volume() -> number",
      "description": "Ottiene livello volume corrente",
      "parameters": {},
      "returns": "number - livello volume (0-100)",
      "examples": [
        {
          "code": "local vol = audio.get_volume()\nprintln('Volume corrente: ' .. vol .. '%')",
          "description": "Mostra volume attuale"
        }
      ]
    },
    "is_playing": {
      "signature": "audio.is_playing() -> boolean",
      "description": "Verifica se audio è in riproduzione",
      "parameters": {},
      "returns": "boolean - true se in riproduzione",
      "examples": [
        {
          "code": "if audio.is_playing() then\n  println('Audio in riproduzione')\nelse\n  audio.play_file('idle.mp3')\nend",
          "description": "Riproduce solo se non già in play"
        }
      ]
    }
  },
  "supported_formats": {
    "WAV": {
      "description": "Waveform Audio File Format",
      "sample_rate": "8-48 kHz",
      "bits": "16-bit PCM",
      "channels": "Mono/Stereo"
    },
    "MP3": {
      "description": "MPEG Layer 3",
      "bitrate": "32-320 kbps",
      "sample_rate": "8-48 kHz"
    }
  },
  "audio_storage": {
    "path": "/data/audio/",
    "max_file_size": "~2MB per file",
    "total_capacity": "~5MB totale"
  },
  "notes": [
    "Speaker output: pin configurabile (default GPIO 25)",
    "Riproduzione asincrona: script continua mentre audio suona",
    "Per audio sincrono: usare loop con is_playing()",
    "File grandi (>2MB) possono causare lag",
    "Qualità: preferire WAV 16kHz mono per size ridotto"
  ]
}
